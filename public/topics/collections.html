
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Focus on Collections - Jumpstart Lab Curriculum</title>
  <meta name="author" content="Jumpstart Lab">

  
  <meta name="description" content="Focus on Collections                              We write programs to deal with collections of data. Let&#8217;s &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tutorials.jumpstartlab.com/topics/collections.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  <link href="/atom.xml" rel="alternate" title="Jumpstart Lab Curriculum" type="application/atom+xml">

  <!-- TAB SLIDE OUT -->
  <script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.tabSlideOut.v1.3.js"></script>

  <!-- SEARCH -->
  <script src="/search.js"></script>

  <script type="text/javascript">
    $(function(){
      $('.slide-out-div').tabSlideOut({
        tabHandle: '.handle',                     //class of the element that will become your tab
        pathToTabImage: '/images/feedback_tabv2.png', //path to the image for the tab //Optionally can be set using css
        imageHeight: '130px',                     //height of tab image           //Optionally can be set using css
        imageWidth: '36px',                       //width of tab image            //Optionally can be set using css
        tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
        speed: 300,                               //speed of animation
        action: 'click',                          //options: 'click' or 'hover', action to trigger animation
        topPos: '200px',                          //position from the top/ use if tabLocation is left or right
        leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
        fixedPosition: true                      //options: true makes it stick(fixed position) on scroll
        });
      });
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body  >
  <header role="banner">
    <hgroup>
  <h1>Jumpstart Lab Curriculum</h1>
  
</hgroup>

  </header>

  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tutorials.jumpstartlab.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/">Curriculum Index</a></li>
  <li><div id="search">
  <form>
    <input type="text" id="st-search-input" class="st-search-input" />
  </form>
</div>
</li>
</ul>
  </nav>

  <div id="main">
    <div id="content">
      <div>
  <article role="article">
    
    
      <header>
        <h1 class="entry-title">
          Focus on Collections
        </h1>
        
      </header>
    
    <p>We write programs to deal with collections of data. Let&#8217;s look at some of the tools you&#8217;ll need to manage and manipulate them effectively.</p>

<h3><code>Enumerable</code></h3>

<p>The granddaddy of it all. The <code>Enumerable</code> module can be mixed into any class which implements an <code>each</code> method. Most any class that acts like a collection will mixin <code>Enumerable</code>, so it&#8217;s methods are some of the most valuable you can study.</p>

<p>You&#8217;ll find that most <code>Enumerable</code> methods work with blocks. The method generally iterates through the collection, runs the block once for each element, then does <em>something</em> with the results.</p>

<p>The full API is at <a href="http://ruby-doc.org/core-1.9.3/Enumerable.html">http://ruby-doc.org/core-1.9.3/Enumerable.html</a>, but below are a few of the best.</p>

<h4><code>all?</code></h4>

<p>Is the block true for <em>all</em> elements in the collection?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">all?</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">}</span>   <span class="c1">#=&gt; true</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>any?</code></h4>

<p>Is the block true for at least one element?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">any?</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">}</span>   <span class="c1">#=&gt; false</span>
</span><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">any?</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">}</span>   <span class="c1">#=&gt; true</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>collect</code> / <code>map</code></h4>

<p>One of the very most common, these synonym methods go through each element of the collection, run the block, gather the return value, then return a collection of those values.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">}</span>   <span class="c1">#=&gt; [3, 4, 3]</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>each_slice</code></h4>

<p>Slice the collection into smaller collections, then iterate through each of those:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat dog bird fish}</span><span class="o">.</span><span class="n">each_slice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">animals</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">animals</span><span class="o">.</span><span class="n">join</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; antbear</span>
</span><span class='line'><span class="c1">#=&gt; catdog</span>
</span><span class='line'><span class="c1">#=&gt; birdfish</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>each_with_index</code></h4>

<p>Uses two local block parameters to iterate through the collection but also use the element&#8217;s position in the origininal collection:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">each_with_index</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="p">,</span> <span class="n">i</span><span class="o">|</span> <span class="nb">puts</span> <span class="o">[</span><span class="n">i</span><span class="p">,</span> <span class="n">word</span><span class="o">].</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;. &quot;</span><span class="p">)}</span>
</span><span class='line'><span class="c1">#=&gt; 0. ant</span>
</span><span class='line'><span class="c1">#=&gt; 1. bear</span>
</span><span class='line'><span class="c1">#=&gt; 2. cat</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>detect</code> / <code>find</code></h4>

<p>These synonym methods will return the first result for which the block is true.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat}</span><span class="o">.</span><span class="n">find</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">3</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; &quot;ant&quot;</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>select</code> / <code>find_all</code></h4>

<p>These synonym methods will return an array of elements for which the block is true. It&#8217;ll still be an array even if only one element was found.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">4</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;bear&quot;, &quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>grep</code></h4>

<p>This method is a searching chainsaw. It&#8217;s a little different from <code>select</code> in that it can take a &quot;pattern&quot; argument which is a Regular Expression or a Range. It will return an array of the matching elements.</p>

<p>These synonym methods will return an array of elements for which the block is true. It&#8217;ll still be an array even if only one element was found.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">grep</span><span class="sr"> /b/</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;bear&quot;, &quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<p>Here the regular expression matches all words containing a <code>b</code>. Where it gets interesting is if you also pass in a block, you get a result that&#8217;s similar to calling <code>select</code> to pick elements, then <code>collect</code> to run an operation and gather the results.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="sr">/b/</span><span class="p">){</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; [4, 4]</span>
</span></code></pre></td></tr></table></div></figure>

<p>The results, <code>[4, 4]</code>, are the lengths of <code>&quot;bear&quot;</code> and <code>&quot;bird&quot;</code>.</p>

<h4><code>group_by</code></h4>

<p>This method will run a block for each element and return a <code>Hash</code> with the result as a key and an array containing all elements which generated that result as the value.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">group_by</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; {3=&gt;[&quot;ant&quot;, &quot;cat&quot;], 4=&gt;[&quot;bear&quot;, &quot;bird&quot;]}</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>include?</code></h4>

<p>Does this collection contain the specified object?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#=&gt; true</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>inject</code> / <code>reduce</code></h4>

<p>The most lauded and most hated method in <code>Enumerable</code>, you can use <code>inject</code> to create magical rainbows while simultaneously confusing your colleagues.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="mi">0</span><span class="p">){</span><span class="o">|</span><span class="n">sum</span><span class="p">,</span> <span class="n">word</span><span class="o">|</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt; 14</span>
</span></code></pre></td></tr></table></div></figure>

<p>This effectively says &quot;Start with the value <code>0</code>, put that in a variable <code>sum</code>, go through the collection and for each element add the length of the element to <code>sum</code>, returning <code>sum</code>&quot;.</p>

<h4><code>max</code> / <code>min</code></h4>

<p>These methods are basically shortcuts. <code>max</code> is equivalent to <code>.sort.last</code> while <code>min</code> is equivalent to <code>.sort.first</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">max</span>
</span><span class='line'><span class="c1">#=&gt; &quot;cat&quot;</span>
</span><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">min</span>
</span><span class='line'><span class="c1">#=&gt; &quot;ant&quot;</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>max_by</code> / <code>min_by</code></h4>

<p>Similarly, these are like shortcuts for using <code>sort_by</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">max_by</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">max</span><span class="p">}</span>
</span><span class='line'><span class="c1"># =&gt; &quot;ant&quot;</span>
</span><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">min_by</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">min</span><span class="p">}</span>
</span><span class='line'><span class="c1"># =&gt; &quot;ant&quot;</span>
</span></code></pre></td></tr></table></div></figure>

<p>With <code>max_by</code>, here, we get <code>&quot;ant&quot;</code> because it has the &quot;maximum&quot; letter of all the words, <code>&quot;t&quot;</code>.</p>

<p>With <code>min_by</code>, we get <code>&quot;ant&quot;</code> because it has the &quot;minimum&quot; letter of all the words, <code>&quot;a&quot;</code>.</p>

<h4><code>partition</code></h4>

<p>This method is used to divide a collection into two sets based on whether the block is true or false:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">partition</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)}</span>
</span><span class='line'><span class="c1"># =&gt; [[&quot;ant&quot;, &quot;bear&quot;, &quot;cat&quot;], [&quot;bird&quot;]]</span>
</span></code></pre></td></tr></table></div></figure>

<p>It returns an <code>Array</code> which contains two nested arrays. This is often used with Ruby&#8217;s automatic decomposition to store the results into separate variables:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">has_a</span><span class="p">,</span> <span class="n">no_a</span> <span class="o">=</span> <span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">partition</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)}</span>
</span><span class='line'><span class="c1"># =&gt; [[&quot;ant&quot;, &quot;bear&quot;, &quot;cat&quot;], [&quot;bird&quot;]]</span>
</span><span class='line'><span class="n">has_a</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;ant&quot;, &quot;bear&quot;, &quot;cat&quot;]</span>
</span><span class='line'><span class="n">no_a</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>reject</code></h4>

<p>The opposite of <code>select</code>, find the elements for which the block is false:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear cat bird}</span><span class="o">.</span><span class="n">reject</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)}</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<p>This is often used with the alternate form <code>reject!</code> to remove the elements for which the block is true:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">words</span> <span class="o">=</span> <span class="sx">%w{ant bear cat bird}</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;ant&quot;, &quot;bear&quot;, &quot;cat&quot;, &quot;bird&quot;]</span>
</span><span class='line'><span class="n">words</span><span class="o">.</span><span class="n">reject!</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)}</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;bird&quot;]</span>
</span><span class='line'><span class="n">words</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<h4><code>sort</code> / <code>sort_by</code></h4>

<p>The simple <code>sort</code> will delegate responsibility to the &quot;spaceship method&quot;, <code>&lt;=&gt;</code>, defined for the object. For <code>String</code> objects, spaceship sorts them into alphabetical order with all capital letters coming before any lowercase letters.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear Cat bird}</span><span class="o">.</span><span class="n">sort</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;Cat&quot;, &quot;ant&quot;, &quot;bear&quot;, &quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<p>Note how <code>&quot;C&quot;</code> comes first.</p>

<p>The <code>sort_by</code> method accepts a block to run on each element, then uses spaceship to sort the resulting values:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear Cat bird}</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">}</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;ant&quot;, &quot;Cat&quot;, &quot;bear&quot;, &quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<p>But within the similar lengths of 3 and 4, how do you determine the sorting order? A common technique is to have the block return an array with multiple criteria for sorting:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">%w{ant bear Cat bird}</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="o">[</span><span class="n">word</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">word</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'><span class="c1"># =&gt; [&quot;Cat&quot;, &quot;ant&quot;, &quot;bear&quot;, &quot;bird&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

<p>Now it sorts by length first, then by alphabetical order within a common length.</p>

<h3>More than just an <code>Array</code></h3>

<p>The most common object implementing <code>Enumerable</code> that you&#8217;ll work with is certainly <code>Array</code>. The abstract data type we call array can be thought of as a contiguous list of elements, like a set of train cars on a track, each with their own payload, that can be walked from beginning to end or accessed at an arbitrary place in the middle. Because it is layed out as connected cells, each side by side, it can be easy to add an item to the end, but it is difficult to add items in the middle. (Think about how much physical effort it would take to add a car into the middle of a long train!)</p>

<p>In Ruby, the <code>Array</code> class actually plays more roles than just the traditional array data type. It also can act like a linked list, a stack, or a queue, among others. We&#8217;ll take a look at the how the latter two data types can be simulated.</p>

<h4>Making a stack with <code>push</code>/<code>pop</code></h4>

<p>A stack is a collection where the last element added to it will be the first element to be removed, a concept known as last-in, first-out, or LIFO. The usual example for thinking about this is a stack of food trays in a cafeteria: when a tray is placed on top of the stack, it will be the next tray to be picked up and used, unless another tray is put on top of it beforehand.</p>

<p>The operations for manipulating a stack are called <code>push</code> and <code>pop</code>, and Ruby <code>Array</code> objects implement them. We <code>push</code> elements onto the <code>Array</code> instance and we <code>pop</code> elements off of it. It looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">stack</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">push</span> <span class="s2">&quot;cat&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">push</span> <span class="s2">&quot;bear&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;, &quot;bear&quot;]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">push</span> <span class="s2">&quot;ant&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;, &quot;bear&quot;, &quot;ant&quot;]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;ant&quot;</span>
</span><span class='line'><span class="n">stack</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;, &quot;bear&quot;]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;bear&quot;</span>
</span><span class='line'><span class="n">stack</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;]</span>
</span><span class='line'><span class="n">stack</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;cat&quot;</span>
</span><span class='line'><span class="n">stack</span>
</span><span class='line'><span class="c1">#=&gt; []</span>
</span></code></pre></td></tr></table></div></figure>

<p>Stacks, among other handy uses, allow us to give priorty to things that have happened the most recently and can be useful for recursive operations.</p>

<h4>Queueing it up with <code>shift</code>/<code>unshift</code></h4>

<p>A queue is pretty recognizable data structure because it shows up frequently in everyday life. While an American may say they&#8217;re &quot;standing in line&quot; for a movie, a Briton would likely say they&#8217;re &quot;standing in queue&quot; (or &quot;queuing&quot;). A queue is a first-in, first-out, or FIFO, structure.</p>

<p>Ruby <code>Array</code>s act as queues when we use the <code>pop</code> and <code>unshift</code> methods. We <code>unshift</code> elements onto the left side of the array and <code>pop</code> elements from the right. Alternatively, we could <code>push</code> elements onto the right side and <code>unshift</code> them from the left.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">queue</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">unshift</span> <span class="s2">&quot;cat&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;cat&quot;]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">unshift</span> <span class="s2">&quot;bear&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;bear&quot;, &quot;cat&quot;]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">unshift</span> <span class="s2">&quot;ant&quot;</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;ant&quot;, &quot;bear&quot;, &quot;cat&quot;]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;cat&quot;</span>
</span><span class='line'><span class="n">queue</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;ant&quot;, &quot;bear&quot;]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;bear&quot;</span>
</span><span class='line'><span class="n">queue</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;ant&quot;]</span>
</span><span class='line'><span class="n">queue</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="c1">#=&gt; &quot;ant&quot;</span>
</span><span class='line'><span class="n">queue</span>
</span><span class='line'><span class="c1">#=&gt; []</span>
</span></code></pre></td></tr></table></div></figure>

<p>With a queue, we can give priority to the oldest element.</p>

<p>Ruby does have an explicit <code>Queue</code> class, but it&#8217;s built for sharing data between Ruby threads, not for the more general-purpose use cases here.</p>

<h2>Exercises</h2>

<p>Given the following set of data:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">126</span><span class="p">,</span> <span class="mi">516</span><span class="p">,</span> <span class="mi">846</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">774</span><span class="p">,</span> <span class="mi">824</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">913</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">309</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">471</span><span class="p">,</span> <span class="mi">274</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">533</span><span class="p">,</span> <span class="mi">514</span><span class="p">,</span> <span class="mi">451</span><span class="p">,</span> <span class="mi">893</span><span class="p">,</span> <span class="mi">723</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span>
</span><span class='line'> <span class="mi">217</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">573</span><span class="p">,</span> <span class="mi">574</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">235</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">889</span><span class="p">,</span> <span class="mi">332</span><span class="p">,</span> <span class="mi">404</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">178</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">670</span><span class="p">,</span> <span class="mi">837</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">645</span><span class="p">,</span> <span class="mi">370</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span>
</span><span class='line'> <span class="mi">400</span><span class="p">,</span> <span class="mi">498</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">207</span><span class="p">,</span> <span class="mi">648</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">524</span><span class="p">,</span> <span class="mi">818</span><span class="p">,</span> <span class="mi">821</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">413</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">352</span><span class="p">,</span> <span class="mi">537</span><span class="p">,</span> <span class="mi">634</span><span class="p">,</span> <span class="mi">347</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">673</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">350</span><span class="p">,</span> <span class="mi">884</span><span class="p">,</span>
</span><span class='line'> <span class="mi">446</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">764</span><span class="p">,</span> <span class="mi">817</span><span class="p">,</span> <span class="mi">608</span><span class="p">,</span> <span class="mi">734</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">883</span><span class="p">,</span> <span class="mi">584</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">892</span><span class="p">,</span> <span class="mi">353</span><span class="p">,</span> <span class="mi">183</span><span class="p">,</span> <span class="mi">660</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">945</span><span class="p">,</span> <span class="mi">630</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">348</span><span class="p">,</span> <span class="mi">812</span><span class="p">,</span> <span class="mi">663</span><span class="p">,</span> <span class="mi">865</span><span class="p">,</span>
</span><span class='line'> <span class="mi">830</span><span class="p">,</span> <span class="mi">791</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">605</span><span class="p">,</span> <span class="mi">756</span><span class="p">,</span> <span class="mi">229</span><span class="p">,</span> <span class="mi">583</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">874</span><span class="p">,</span> <span class="mi">291</span><span class="p">,</span> <span class="mi">686</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">948</span><span class="p">,</span> <span class="mi">689</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">265</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">890</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">844</span><span class="p">,</span> <span class="mi">195</span><span class="p">,</span> <span class="mi">894</span><span class="p">,</span> <span class="mi">579</span><span class="p">,</span>
</span><span class='line'> <span class="mi">129</span><span class="p">,</span> <span class="mi">257</span><span class="p">,</span> <span class="mi">703</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">788</span><span class="p">,</span> <span class="mi">443</span><span class="p">,</span> <span class="mi">526</span><span class="p">,</span> <span class="mi">606</span><span class="p">,</span> <span class="mi">384</span><span class="p">,</span> <span class="mi">698</span><span class="p">,</span> <span class="mi">742</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">596</span><span class="p">,</span> <span class="mi">357</span><span class="p">,</span> <span class="mi">825</span><span class="p">,</span> <span class="mi">852</span><span class="p">,</span> <span class="mi">953</span><span class="p">,</span> <span class="mi">354</span><span class="p">,</span> <span class="mi">853</span><span class="p">,</span> <span class="mi">531</span><span class="p">,</span> <span class="mi">790</span><span class="p">,</span> <span class="mi">432</span><span class="p">,</span> <span class="mi">558</span><span class="p">,</span>
</span><span class='line'> <span class="mi">656</span><span class="p">,</span> <span class="mi">221</span><span class="p">,</span> <span class="mi">293</span><span class="p">,</span> <span class="mi">595</span><span class="p">,</span> <span class="mi">754</span><span class="p">,</span> <span class="mi">938</span><span class="p">,</span> <span class="mi">885</span><span class="p">,</span> <span class="mi">599</span><span class="p">,</span> <span class="mi">399</span><span class="p">,</span> <span class="mi">355</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>

<p>Use collection operations to&#8230;</p>

<ol>
<li>Find all the even numbers</li>
<li>Find the square of each number</li>
<li>Determine if there is a number evenly divisible by 31 (you&#8217;ll need the modulo operator: <a href="http://www.ruby-forum.com/topic/181880">http://www.ruby-forum.com/topic/181880</a>)</li>
<li>Split the numbers into two sets: ones below 500 and ones above</li>
<li>Print them in ascending order with a place marker, like this:
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">.</span> <span class="mi">17</span>
</span><span class='line'><span class="mi">2</span><span class="o">.</span> <span class="mi">20</span>
</span><span class='line'><span class="mi">3</span><span class="o">.</span> <span class="mi">22</span>
</span></code></pre></td></tr></table></div></figure></li>
<li>Find the sum of all numbers between 600 and 700</li>
<li>Create groups by hundreds (100s, 200s, 300s), where each set is sorted in increasing order</li>
<li>Find all numbers which have the digit 6</li>
</ol>

    
    
      <footer>
        
        
          <div class="sharing">
  
  
</div>

        
      </footer>
    
  </article>


</div>



    </div>

    <div class="footer">
  <p>
    All materials licensed <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0</a>&nbsp;
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" />
  </p>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42709122-1', 'jumpstartlab.com');
ga('send', 'pageview');
</script>
  </div>

  


  <div class="slide-out-div">
  <a class="handle" href="#">Feedback</a>
  <h3>Have Feedback?</h3>
  <p>Did you find an error? Something confusing? We'd love your help:</p>
  <ul>
    <li><a href="#" id="edit_source">Edit the source code of this page directly on GitHub</a></li>
    <li><a href="https://github.com/JumpstartLab/curriculum/issues">Create a new issue on the project's GitHub page</a></li>
  </ul>
  <p>Thanks!</p>
</div>

<script>
  $(function(){
    var pathname = window.location.pathname.replace( ".html", ".markdown" );
    var github_url = "https://github.com/JumpstartLab/curriculum/blob/master/source" + pathname;
    $("a#edit_source").attr('href', github_url);
  });
</script>

</body>
</html>
