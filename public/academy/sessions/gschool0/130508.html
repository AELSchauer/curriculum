
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Wednesday, May 8th - Jumpstart Lab Curriculum</title>
  <meta name="author" content="Jumpstart Lab">

  
  <meta name="description" content="Wednesday, May 8th                              Daily OutlineWarm-upConsuming an APIConsuming an API from your &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tutorials.jumpstartlab.com/academy/sessions/gschool0/130508.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  <link href="/atom.xml" rel="alternate" title="Jumpstart Lab Curriculum" type="application/atom+xml">

  <!-- TAB SLIDE OUT -->
  <script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.tabSlideOut.v1.3.js"></script>

  <!-- SEARCH -->
  <script src="/search.js"></script>

  <script type="text/javascript">
    $(function(){
      $('.slide-out-div').tabSlideOut({
        tabHandle: '.handle',                     //class of the element that will become your tab
        pathToTabImage: '/images/feedback_tabv2.png', //path to the image for the tab //Optionally can be set using css
        imageHeight: '130px',                     //height of tab image           //Optionally can be set using css
        imageWidth: '36px',                       //width of tab image            //Optionally can be set using css
        tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
        speed: 300,                               //speed of animation
        action: 'click',                          //options: 'click' or 'hover', action to trigger animation
        topPos: '200px',                          //position from the top/ use if tabLocation is left or right
        leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
        fixedPosition: true                      //options: true makes it stick(fixed position) on scroll
        });
      });
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body  >
  <header role="banner">
    <hgroup>
  <h1>Jumpstart Lab Curriculum</h1>
  
</hgroup>

  </header>

  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tutorials.jumpstartlab.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/">Curriculum Index</a></li>
  <li><div id="search">
  <form>
    <input type="text" id="st-search-input" class="st-search-input" />
  </form>
</div>
</li>
</ul>
  </nav>

  <div id="main">
    <div id="content">
      <div>
  <article role="article">
    
    
      <header>
        <h1 class="entry-title">
          Wednesday, May 8th
        </h1>
        
      </header>
    
    <h2>Daily Outline</h2>

<ul>
<li>Warm-up</li>
<li>Consuming an API</li>
<li>Consuming an API from your app</li>
<li>Why you should abstract API details</li>
<li>Abstracting the API details into a wrapper in lib</li>
<li>Abstracting the lib into a gem</li>
<li>Your turn!</li>
<li>Lightning Outline Review</li>
</ul>

<h2>Consuming an API</h2>

<ul>
<li>Explore the capabilities of the app <a href="https://github.com/jumpstartlab/simple_feed">simple_feed</a></li>
<li>Find the API endpoints we want to consume</li>
<li>Show that we can consume them in <a href="http://rubygems.org/gems/pry">Pry</a></li>
</ul>

<h2>Consuming an API from your app</h2>

<ul>
<li>Add the integration test (VCR or Webmock) which causes us to make the

<ul>
<li>route</li>
<li>controller</li>
<li>api integration</li>
</ul></li>
<li>Consume the API endpoint in the controller (if you need the hashes to support symbol and string access, use <code>Hash#with_indifferent_access</code>)</li>
<li>Add VCR or Webmock or whatever makes sense for you

<ul>
<li>VCR is good if you&#8217;re testing structure of the remote data</li>
<li>Webmock is good if you&#8217;re tsting content of the remote data</li>
</ul></li>
<li>Refactor the view to be friendly for humans :)</li>
</ul>

<h2>Why you should abstract API details</h2>

<ul>
<li>Currently all the details of the remote system are mixed into our controller (must contain the virus!)</li>
<li>When the details change (and they will, and probably frequently), we must hunt through our app to change the code.</li>
<li>We want to be able to design our code the way we think is best, allowing third party API details into our app will have us modifying our code to work with theirs. Whereas if we keep it encapsulated behind a gem, we can constrain these details in one place.</li>
<li>If its in a gem, we can open source it. This gives us reusability and the benefit of a community of users (other people might find and fix your bugs or add features!)</li>
<li>The code is too specific to the details, prevents us from writing the code we wish we could use (dream driven development), e.g. (<code>items = feed_source.get_items</code>)</li>
</ul>

<h2>Abstracting the API details into a wrapper in lib</h2>

<ul>
<li>Create the class in the same controller to look the way you would like</li>
<li>Once you&#8217;re happy with it, make a file in lib (e.g. if you called the class SimpleFeed, then it would go in <code>lib/simple_feed.rb</code>)</li>
<li>In config/application.rb, add <code>config.autoload_paths += [&quot;#{config.root}/lib&quot;]</code></li>
<li>Make sure the tests still work</li>
</ul>

<h2>Consume the individual feed items</h2>

<p>For this exercise you should:</p>

<ul>
<li>Get together with your pair listed below</li>
<li>Extend the funcationality of the <a href="https://github.com/JoshCheek/simple_feed_consumer">Rails app</a> such that the link can be clicked on, and the user will see that specific feed item.</li>
<li>This will require your team to extend the <code>SimpleFeed</code> class in lib to be able to request specific items such as <code>http://localhost:3001/api/feeds/josh/items/44.json</code></li>
<li>You will either have to recreate the data in the <code>simple_feed</code> app, or create your own data and update the tests.</li>
<li>Follow a normal TDD/BDD process including acceptance tests</li>
</ul>

<h3>Pairs</h3>

<ul>
<li>Geoffrey Schorkopf &amp; Blair Anderson</li>
<li>Paul Blackwell &amp; Erin Drummond</li>
<li>Shane Rogers &amp; Christopher Knight</li>
<li>Jennifer Eliuk &amp; Jorge Tellez</li>
<li>Aimee Maher &amp; Logan Sears</li>
<li>Chelsea Komlo &amp; Bradley Sheehan</li>
<li>John Maddux &amp; Daniel Mee</li>
<li>James Denman &amp; Kyle Suss</li>
<li>Raphael Weiner &amp; Laura Steadman</li>
<li>Danny Garcia &amp; Josh Mejia</li>
<li>Kareem Grant &amp; Phil Battos &amp; Elaine Tai</li>
</ul>

<h3>User Stories</h3>

<p>Here&#8217;s what we&#8217;re looking for in the application:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>When I visit '/simple_feed'
</span><span class='line'>And I click the link to "Me riding a shark!"
</span><span class='line'>Then I see the feed item for "Me riding a shark!"
</span><span class='line'>And I do not see the feed item for "OMG, Software Craftsharks!"</span></code></pre></td></tr></table></div></figure>

<h3>References</h3>

<ul>
<li><a href="https://github.com/jumpstartlab/simple_feed">simple feed service</a></li>
<li><a href="https://github.com/JoshCheek/simple_feed_consumer">simple feed consumer</a></li>
<li><a href="https://github.com/rest-client/rest-client">rest client gem</a></li>
</ul>

    
    
      <footer>
        
        
          <div class="sharing">
  
  
</div>

        
      </footer>
    
  </article>


</div>


  <span class="toggle-sidebar"></span>

<aside class="sidebar">
  <div> </div>
</aside>

<script src="/javascripts/sidebar.js" type="text/javascript"> </script>


    </div>

    <div class="footer">
  <p>
    All materials licensed <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0</a>&nbsp;
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" />
  </p>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42709122-1', 'jumpstartlab.com');
ga('send', 'pageview');
</script>
  </div>

  


  <div class="slide-out-div">
  <a class="handle" href="#">Feedback</a>
  <h3>Have Feedback?</h3>
  <p>Did you find an error? Something confusing? We'd love your help:</p>
  <ul>
    <li><a href="#" id="edit_source">Edit the source code of this page directly on GitHub</a></li>
    <li><a href="https://github.com/JumpstartLab/curriculum/issues">Create a new issue on the project's GitHub page</a></li>
  </ul>
  <p>Thanks!</p>
</div>

<script>
  $(function(){
    var pathname = window.location.pathname.replace( ".html", ".markdown" );
    var github_url = "https://github.com/JumpstartLab/curriculum/blob/master/source" + pathname;
    $("a#edit_source").attr('href', github_url);
  });
</script>

</body>
</html>
