
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Objects and Methods - Jumpstart Lab Curriculum</title>
  <meta name="author" content="Jumpstart Lab">

  
  <meta name="description" content="Objects and Methods                              We will use the ruby-exercises (objects-and-methods)repository to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tutorials.jumpstartlab.com/academy/workshops/objects_and_methods.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  <link href="/atom.xml" rel="alternate" title="Jumpstart Lab Curriculum" type="application/atom+xml">

  <!-- TAB SLIDE OUT -->
  <script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.tabSlideOut.v1.3.js"></script>

  <!-- SEARCH -->
  <script src="/search.js"></script>

  <script type="text/javascript">
    $(function(){
      $('.slide-out-div').tabSlideOut({
        tabHandle: '.handle',                     //class of the element that will become your tab
        pathToTabImage: '/images/feedback_tabv2.png', //path to the image for the tab //Optionally can be set using css
        imageHeight: '130px',                     //height of tab image           //Optionally can be set using css
        imageWidth: '36px',                       //width of tab image            //Optionally can be set using css
        tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
        speed: 300,                               //speed of animation
        action: 'click',                          //options: 'click' or 'hover', action to trigger animation
        topPos: '200px',                          //position from the top/ use if tabLocation is left or right
        leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
        fixedPosition: true                      //options: true makes it stick(fixed position) on scroll
        });
      });
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body  >
  <header role="banner">
    <hgroup>
  <h1>Jumpstart Lab Curriculum</h1>
  
</hgroup>

  </header>

  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tutorials.jumpstartlab.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/">Curriculum Index</a></li>
  <li><div id="search">
  <form>
    <input type="text" id="st-search-input" class="st-search-input" />
  </form>
</div>
</li>
</ul>
  </nav>

  <div id="main">
    <div id="content">
      <div>
  <article role="article">
    
    
      <header>
        <h1 class="entry-title">
          Objects and Methods
        </h1>
        
      </header>
    
    <p>We will use the <a href="https://github.com/JumpstartLab/ruby-exercises">ruby-exercises (objects-and-methods)</a>
repository to practice writing objects that have methods and that interact
with each other.</p>

<h2>Getting Started</h2>

<p>Start by cloning the repository:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
<span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>git clone https://github.com/JumpstartLab/ruby-exercises.git</span><span class='line command'>cd ruby-exercises/objects-and-methods</span></code></pre></td></tr></table></div></div>
        </div>

<h2>Exercise 1</h2>

<p>Go to exercise-1:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>cd exercise-1</span></code></pre></td></tr></table></div></div>
        </div>

<p>You will have a test directory with several files in it.</p>

<h3>Implementing <code>Candy</code></h3>

<p>Start by running the tests for <code>Candy</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>ruby test/candy_test.rb</span></code></pre></td></tr></table></div></div>
        </div>

<p>What is does the error message say?</p>

<p>The most important part of the error message is this:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>cannot load such file -- ./lib/candy (LoadError)</span></code></pre></td></tr></table></div></div>
        </div>

<p>The way to fix it is to create a directory named <code>lib</code> (if it doesn&#8217;t exist), and add an empty file called <code>candy.rb</code> to it:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
<span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>mkdir lib</span><span class='line command'>touch lib/candy.rb</span></code></pre></td></tr></table></div></div>
        </div>

<p>Run the tests again, and now the error message has changed:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NameError: uninitialized constant CandyTest::Candy</span></code></pre></td></tr></table></div></div>
        </div>

<p>It&#8217;s looking for the constant <code>Candy</code>. First it looks inside of <code>CandyTest</code>,
which is what <code>CandyTest::Candy</code> means. Next it looks outside of that class
(just <code>Candy</code>). It only reports the first error, though.</p>

<p>We don&#8217;t want <code>Candy</code> to live inside of <code>CandyTest</code>. Define the <code>Candy</code> class
inside of <code>lib/candy.rb</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Candy</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Run the tests again, you will get an <code>ArgumentError</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>ArgumentError: wrong number of arguments(1 for 0)</span><span class='line output'>test/candy_test.rb:8:in `initialize'</span></code></pre></td></tr></table></div></div>
        </div>

<p>Implement the initialize method in <code>Candy</code> so that it takes an argument.</p>

<p>Run the tests.</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `type' for #&lt;Candy:0x007f93099f98d8&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Add an empty method named <code>type</code> to the Candy class.</p>

<p>Run the tests, and you&#8217;ll finally get a failure rather than an error:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>Expected: "Skittles"</span><span class='line output'>Actual: nil</span></code></pre></td></tr></table></div></div>
        </div>

<p>Make the test pass, and then remove the <code>skip</code> from the next test, and make
that one pass as well.</p>

<h3>Implementing <code>Bag</code></h3>

<p>Next run the tests for the <code>Bag</code> class:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>ruby test/bag_test.rb</span></code></pre></td></tr></table></div></div>
        </div>

<p>Follow the error messages to get the first test passing. Just do the simplest
thing that could possibly work. The next tests will force the code to do
whatever it needs to do.</p>

<p>Unskip the next test. It gives you a <code>NoMethodError</code> that looks like this:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `count' for #&lt;Bag:0x007f96f3144ec0&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>That&#8217;s a familiar error message. Create an empty method named <code>count</code>, and run
the tests again. Fix the failure.</p>

<p>Unskip the next test. The error message complains about another
<code>NoMethodError</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `candies' for #&lt;Bag:0x007fd0618d04f8&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Again, make the test pass in the simplest way possible.</p>

<p>Unskip the next test. Now you&#8217;ll get a <code>NoMethodError</code> that looks like this:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `<<' for #&lt;Bag:0x007ff73c8a1fe8&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Really? A method named <code>&lt;&lt;</code>? Well, that&#8217;s what it says. Let&#8217;s fix it the way
we fixed the previous <code>NoMethodError</code>. Inside of the <code>Bag</code> class, define this
method:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">&lt;&lt;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Run the tests again, and the error message changes:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>ArgumentError: wrong number of arguments (1 for 0)</span><span class='line output'>/Users/username/code/halloween/lib/bag.rb:10:in `<<'</span></code></pre></td></tr></table></div></div>
        </div>

<p>We need an argument for the <code>&lt;&lt;</code> method, but what should the argument be?</p>

<p>The test says:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">bag</span> <span class="o">&lt;&lt;</span> <span class="n">candy</span>
</span></code></pre></td></tr></table></div></figure>

<p>So I guess we&#8217;re putting a candy in the bag. Let&#8217;s call the argument <code>candy</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">&lt;&lt;</span><span class="p">(</span><span class="n">candy</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Run the tests again, and now we get a failure:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>BagTest#test_put_candy_in_the_bag [test/bag_test.rb:24]:</span><span class='line output'>--- expected</span><span class='line output'>+++ actual</span><span class='line output'>@@ -1 +1 @@</span><span class='line output'>-[#&lt;Candy:0xXXXXXX @type="Sour frogs"&gt;]</span><span class='line output'>+[]</span></code></pre></td></tr></table></div></div>
        </div>

<p>Eew.</p>

<p>OK, let&#8217;s pick that apart.</p>

<p>The first line tells us that the failing test is in the <code>BagTest</code> test suite.
No surprise there.</p>

<p>Then it says the failing test is named <code>test_put_candy_in_the_bag</code>,
which makes sense, because that&#8217;s the test we&#8217;re working on at the moment.</p>

<p>It gives us the file name (<code>test/bag_test.rb</code>). Again, this is no
surprise, since that&#8217;s the file we&#8217;re running to get this error.</p>

<p>Finally, it tells us which line the failing assertion is on (<code>test/bag_test.rb:24</code>, so line 24).</p>

<p>Next it gives us some instructions. It says it&#8217;s going to show us some output,
and it will prefix the line with <code>+++</code> if it got something it didn&#8217;t expect,
and it will prefix the line with <code>---</code> if it is missing something.</p>

<p>In other words, it expected to get an array with an instance of Candy in it,
but it actually got an empty array.</p>

<p>What do we have on line 24?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">assert_equal</span> <span class="o">[</span><span class="n">candy</span><span class="o">]</span><span class="p">,</span> <span class="n">bag</span><span class="o">.</span><span class="n">candies</span>
</span></code></pre></td></tr></table></div></figure>

<p>We expected to get an array with an instance of candy in it (<code>[candy]</code>), but
<code>bag.candies</code> returns an empty array. At least that&#8217;s what I&#8217;m getting,
because I hard-coded the response to the <code>candies</code> method to return an empty
array.</p>

<p>We need to start implementing some actual logic here.</p>

<p>What is the test actually doing?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">test_put_candy_in_the_bag</span>
</span><span class='line'>  <span class="n">bag</span> <span class="o">=</span> <span class="no">Bag</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="n">candy</span> <span class="o">=</span> <span class="no">Candy</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Sour frogs&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">bag</span> <span class="o">&lt;&lt;</span> <span class="n">candy</span>
</span><span class='line'>  <span class="n">assert_equal</span> <span class="o">[</span><span class="n">candy</span><span class="o">]</span><span class="p">,</span> <span class="n">bag</span><span class="o">.</span><span class="n">candies</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>It is:</p>

<ul>
<li>creating a new bag</li>
<li>creating a piece of candy</li>
<li>putting the candy in the bag</li>
<li>asserting that that particular candy is in the bag&#8217;s array of <code>candies</code>.</li>
</ul>

<p>So we need to do something smarter in the <code>&lt;&lt;</code> method.</p>

<p>We have a method named <code>candies</code>, but that is a <code>reader</code> method, which is
intended to just read data, not change data. Since we want to change the
<code>candies</code> array, let&#8217;s change the underlying instance variable named
<code>@candies</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">&lt;&lt;</span><span class="p">(</span><span class="n">candy</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@candies</span> <span class="o">&lt;&lt;</span> <span class="n">candy</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Run the tests again.</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `<<' for nil:NilClass</span><span class='line output'>/Users/username/code/halloween/lib/bag.rb:15:in `<<'</span></code></pre></td></tr></table></div></div>
        </div>

<p>OK, it doesn&#8217;t like that we&#8217;re trying to shovel something into nil on line 15.</p>

<p>Line 15 says:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="vi">@candies</span> <span class="o">&lt;&lt;</span> <span class="n">candy</span>
</span></code></pre></td></tr></table></div></figure>

<p>So <code>@candies</code> is nil. That makes sense, because we never defined it anywhere.</p>

<p>We can define it in the <code>initialize</code> method, since we always want to have it
available inside the bag.</p>

<p>Wait. What <code>initialize</code> method? We don&#8217;t have one.</p>

<p>Well, we kind of have one. An empty class gets an empty initialize
method for free whether it&#8217;s explicitly there or not.</p>

<p>So if we want to have something other than an empty initialize method,
we need to create it explicitly:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>  <span class="vi">@candies</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>That fixes the complaint about shoveling into nil, but our <code>[candy]</code> array is
still empty.</p>

<p>Take a look at how the <code>candies</code> method is defined inside <code>Bag</code>. It&#8217;s still
hard-coding the empty array. If you return the instance variable <code>@candies</code>
instead, then this will now pass.</p>

<p>Unskip the next test. Mine fails because it expects the bag to not be empty
anymore since we put candy in it. But the bag says that it&#8217;s still empty.</p>

<p>That&#8217;s because I hard-coded <code>empty?</code> on the <code>Bag</code> to return <code>true</code>. Make the
<code>empty?</code> method check if the <code>candies</code> array is empty:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">empty?</span>
</span><span class='line'>  <span class="n">candies</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>That makes the test pass. Unskip the next one.</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>BagTest#test_bag_counts_candies [test/bag_test.rb:36]:</span><span class='line output'>Expected: 1</span><span class='line output'>Actual: 0</span></code></pre></td></tr></table></div></div>
        </div>

<p>This test is failing because of a hard-coded value, too. I hard-coded the count as <code>0</code>.</p>

<p><code>candies</code> is an Array, and Ruby Arrays have a lot of methods defined on them by
default. You can see the full list <a href="http://ruby-doc.org/core-2.1.2/Array.html">here</a>. We need a method that will tell us how many elements are in the array.</p>

<p>The documentation says this:</p>
<blockquote>
<p>Arrays keep track of their own length at all times.
To query an array about the number of elements it contains, use
length, count or size.</p>
</blockquote>
<p>So it doesn&#8217;t seem to matter which one we choose. Let&#8217;s use <code>count</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">count</span>
</span><span class='line'>  <span class="n">candies</span><span class="o">.</span><span class="n">count</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>This can seem confusing. We&#8217;ve got two methods named count, one within the other. What&#8217;s going on here?</p>

<p>The first one is a method defined on an instance of Bag:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Bag</span>
</span><span class='line'>  <span class="c1"># ...</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">count</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>The second one is a message that the bag sends to the array of candies:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">candies</span><span class="o">.</span><span class="n">count</span>
</span></code></pre></td></tr></table></div></figure>

<p>Run the tests &#8211; they should now be passing. Unskip the next test.
This one should pass straight off the bat.</p>

<p>Make sure that you understand what it is doing.</p>

<p>Unskip the last test.</p>

<p>We get a <code>NoMethodError</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `contains?' for #&lt;Bag:0x007ff13b22ed98&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Define the method and run the test again. Fix the <code>ArgumentError</code> by giving it
a parameter.</p>

<p>The failure we get is a failed assertion, but the error message isn&#8217;t very
helpful, we need to check what it&#8217;s actually trying to prove:</p>

<p>This is the code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">bag</span> <span class="o">=</span> <span class="no">Bag</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">bag</span> <span class="o">&lt;&lt;</span> <span class="no">Candy</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Lindt chocolate&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">assert</span> <span class="n">bag</span><span class="o">.</span><span class="n">contains?</span><span class="p">(</span><span class="s2">&quot;Lindt chocolate&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p><code>assert</code> will pass if whatever it is given evaluates to <code>true</code>. It will fail if it is <code>nil</code> or <code>false</code>.</p>

<p>We need <code>bag.contains?(&quot;Lindt chocolate&quot;)</code> to return true.</p>

<p>How are we going to know if the bag contains a candy with a type of &quot;Lindt chocolate&quot;?</p>

<p>We need to ask each candy what type it is. We can do that, because we have access to all the candies via the <code>candies</code> method.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">contains?</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
</span><span class='line'>  <span class="n">candies</span><span class="o">.</span><span class="n">any?</span> <span class="k">do</span> <span class="o">|</span><span class="n">candy</span><span class="o">|</span>
</span><span class='line'>    <span class="n">candy</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">type</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Now all the <code>Bag</code> tests should pass.</p>

<h3>Implementing Costume</h3>

<p>Run the <code>test/costume_test.rb</code> file, and implement <code>Costume</code>. It&#8217;s very
similar to <code>Candy</code>.</p>

<h3>Implementing Trick-Or-Treater</h3>

<p>This is where it gets interesting.</p>

<p>The first times you run the tests you&#8217;ll get the usual errors:</p>

<ul>
<li><code>LoadError</code> &#8211; create the missing file.</li>
<li><code>NameError</code> &#8211; create the missing class.</li>
<li><code>ArgumentError</code> &#8211; add an initialize method that takes a parameter</li>
</ul>

<p>The parameter should be named <code>costume</code> since that is what we&#8217;re passing into
the new <code>TrickOrTreat</code> instance in the test:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># in the test</span>
</span><span class='line'><span class="n">costume</span> <span class="o">=</span> <span class="no">Costume</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Cowboy&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">trick_or_treater</span> <span class="o">=</span> <span class="no">TrickOrTreater</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">costume</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>The <code>TrickOrTreat</code> class now looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">TrickOrTreater</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">costume</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>We&#8217;re not doing anything with the costume yet.</p>

<p>The next error message that we get is:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<br></pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `dressed_up_as' for #&lt;TrickOrTreater:0x007fe0418b2d50&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Define the empty method, and we get a failed expectation:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>Expected: "Cowboy"</span><span class='line output'>Actual: nil</span></code></pre></td></tr></table></div></div>
        </div>

<p>Make it pass by hard-coding the expected value, and then unskip the next test.</p>

<p>This test is going to force us to be smarter in the <code>dressed_up_as</code> method.
The failure says:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>Expected: "Pony"</span><span class='line output'>Actual: "Cowboy"</span></code></pre></td></tr></table></div></div>
        </div>

<p>Where do the values <code>&quot;Pony&quot;</code> and <code>&quot;Cowboy&quot;</code> come from? They are the style of
the costume.</p>

<p>So <code>dressed_up_as</code> needs to ask the costume what style it is, and return that value to the test.</p>

<p>To do that we need to save the costume so that we can access it in the
initialize method:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">costume</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@costume</span> <span class="o">=</span> <span class="n">costume</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Then we can fix <code>dressed_up_as</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">dressed_up_as</span>
</span><span class='line'>  <span class="vi">@costume</span><span class="o">.</span><span class="n">style</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>That gets the tests passing. Unskip the next one:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `bag' for #&lt;TrickOrTreater:0x007f8a7916aa20&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>Define an empty method for <code>bag</code>. Next the test gives us a <code>NoMethodError</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<span class='line-number'>&nbsp;</span>
</pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `empty?' for nil:NilClass</span><span class='line output'>test/trick_or_treater_test.rb:24:in `test_has_an_empty_bag_by_default'</span></code></pre></td></tr></table></div></div>
        </div>

<p>We need to look at line 24 of the test file to figure out what&#8217;s going on:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">assert</span> <span class="n">trick_or_treater</span><span class="o">.</span><span class="n">bag</span><span class="o">.</span><span class="n">empty?</span>
</span></code></pre></td></tr></table></div></figure>

<p>We&#8217;re assuming that the <code>bag</code> method returns a <code>Bag</code> object, and then we&#8217;re
calling <code>empty?</code> on it.</p>

<p>So let&#8217;s give the Trick-or-Treater object a <code>Bag</code> object that it can return to us:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">TrickOrTreater</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">costume</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@costume</span> <span class="o">=</span> <span class="n">costume</span>
</span><span class='line'>    <span class="vi">@bag</span> <span class="o">=</span> <span class="no">Bag</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">bag</span>
</span><span class='line'>    <span class="vi">@bag</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">dressed_up_as</span>
</span><span class='line'>    <span class="vi">@costume</span><span class="o">.</span><span class="n">style</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>That gets the tests passing.</p>

<p>Notice that we now have references to two objects inside our Trick-or-Treater: a Bag and a Costume. Any messages that we sent to Bag in the <code>bag_test.rb</code> are fair game from inside the Trick-or-Treater. The same goes for Costume, though admittedly Costume doesn&#8217;t do much of anything.</p>

<p>Unskip the next test. Yet another <code>NoMethodError</code>:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>&nbsp;</span>
<br></pre></td><td class='code'><pre><code><span class='line output'>NoMethodError: undefined method `has_candy?' for #&lt;TrickOrTreater:0x007fd20b993d58&gt;</span></code></pre></td></tr></table></div></div>
        </div>

<p>The test states that when we have an empty bag, we don&#8217;t have candy.</p>

<p>Create the method <code>has_candy?</code>, run the test again. It passes, because the empty method is returning nil, which is good enough when we need a <code>false</code>.</p>

<p>Moving on: unskip the next test.</p>

<p>Here, we&#8217;re putting something in the bag, and now the Trick-or-Treater
<em>should</em> have candy, but the <code>has_candy?</code> method has no implementation,
which means that it&#8217;s returning <code>nil</code> rather than <code>true</code>.</p>

<p>From inside <code>has_candy?</code> the Trick-or-Treater has access to the instance of
<code>Bag</code> with all of its methods. Since we defined a method on <code>Bag</code> called <code>empty?</code>
we can call it from inside the <code>has_candy?</code> method.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">has_candy?</span>
</span><span class='line'>  <span class="o">!</span><span class="n">bag</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>We can&#8217;t just say that the Trick-or-Treater has candy if the bag is empty, though, we need the opposite: The Trick-or-Treater has candy if the bag is <strong>not</strong> empty. Hence the bang (programmers like to call exclamation marks <em>bang</em>. Don&#8217;t ask me why).</p>

<p>Unskip the next test, and get a <code>NoMethodError</code>. Define the method.</p>

<p>Next time we run the test we get a failed expectation: <code>nil</code> instead of 0.
Go ahead and return <code>0</code> from the <code>candy_count</code> method.</p>

<p>Run the tests, and the same test is failing, because after adding candy to the
bag it expects the candy count to be 1.</p>

<p>The bag knows how much candy it contains, so the Trick-or-Treater object can ask the bag for its count:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">candy_count</span>
</span><span class='line'>  <span class="n">bag</span><span class="o">.</span><span class="n">count</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>Unskip the last method and run the tests. Fix the <code>NoMethodError</code> by defining
the missing method.</p>

<p>Run the tests again &#8211; now we&#8217;re getting a failure.</p>

<p>Apparently if the Trick-or-Treater eats a piece of candy, the candy-count
decreases.</p>

<p>The candy count is based on how many candies are in the bag, so we&#8217;ll need to actually take a candy out of the bag for the count to decreas.</p>

<p>Inside the bag, the candies are stored in an Array. Array has a handy method named <code>pop</code> which will pop off the last item in the array and give it back to you. We don&#8217;t need to do anything with that piece of candy yet, so we can just pop it off and leave it at that:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">eat</span>
</span><span class='line'>  <span class="n">bag</span><span class="o">.</span><span class="n">candies</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<p>And that&#8217;s it. This is the code that I ended up with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">TrickOrTreater</span>
</span><span class='line'>  <span class="kp">attr_reader</span> <span class="ss">:bag</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">costume</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@costume</span> <span class="o">=</span> <span class="n">costume</span>
</span><span class='line'>    <span class="vi">@bag</span> <span class="o">=</span> <span class="no">Bag</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">dressed_up_as</span>
</span><span class='line'>    <span class="vi">@costume</span><span class="o">.</span><span class="n">style</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">has_candy?</span>
</span><span class='line'>    <span class="o">!</span><span class="n">bag</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">candy_count</span>
</span><span class='line'>    <span class="n">bag</span><span class="o">.</span><span class="n">count</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">eat</span>
</span><span class='line'>    <span class="n">bag</span><span class="o">.</span><span class="n">candies</span><span class="o">.</span><span class="n">pop</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

<h2>Now do it again</h2>

<p>Blow away all your changes and start over, this time without looking at the
tutorial so closely.</p>

<p>The easiest way to throw away changes is to run the following commands.
The first removes any changes we made to files git knows about.
The second will list new files in the working directory,
which we can then remove the standard Unix way (remove with rm).</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
<span class='line-number'>$</span>
<span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>git checkout -- .</span><span class='line command'>git clean -fd</span><span class='line command'>git status</span></code></pre></td></tr></table></div></div>
        </div>

<p>Do this until you can write the production code to pass the tests without
referencing the tutorial, then go to the exercise-2 directory and make those
tests pass as well:</p>

<div class="window">
          <nav class="control-window">
            <a href="#finder" class="close" data-rel="close">close</a>
            <a href="#" class="minimize">minimize</a>
            <a href="#" class="deactivate">deactivate</a>
          </nav>
          <h1 class="titleInside">Terminal</h1>
          <div class="container"><div class="terminal"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>$</span>
</pre></td><td class='code'><pre><code><span class='line command'>cd ../exercise-2</span></code></pre></td></tr></table></div></div>
        </div>

    
    
      <footer>
        
        
          <div class="sharing">
  
  
</div>

        
      </footer>
    
  </article>


</div>



    </div>

    <div class="footer">
  <p>
    All materials licensed <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0</a>&nbsp;
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" />
  </p>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42709122-1', 'jumpstartlab.com');
ga('send', 'pageview');
</script>
  </div>

  


  <div class="slide-out-div">
  <a class="handle" href="#">Feedback</a>
  <h3>Have Feedback?</h3>
  <p>Did you find an error? Something confusing? We'd love your help:</p>
  <ul>
    <li><a href="#" id="edit_source">Edit the source code of this page directly on GitHub</a></li>
    <li><a href="https://github.com/JumpstartLab/curriculum/issues">Create a new issue on the project's GitHub page</a></li>
  </ul>
  <p>Thanks!</p>
</div>

<script>
  $(function(){
    var pathname = window.location.pathname.replace( ".html", ".markdown" );
    var github_url = "https://github.com/JumpstartLab/curriculum/blob/master/source" + pathname;
    $("a#edit_source").attr('href', github_url);
  });
</script>

</body>
</html>
