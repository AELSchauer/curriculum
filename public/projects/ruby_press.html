
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RubyPress - Jumpstart Lab Curriculum</title>
  <meta name="author" content="Jumpstart Lab">

  
  <meta name="description" content="RubyPress                              In this project you&#8217;ll use Ruby on Rails to build a content management &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tutorials.jumpstartlab.com/projects/ruby_press.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  <link href="/atom.xml" rel="alternate" title="Jumpstart Lab Curriculum" type="application/atom+xml">

  <!-- TAB SLIDE OUT -->
  <script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.tabSlideOut.v1.3.js"></script>

  <!-- SEARCH -->
  <script src="/search.js"></script>

  <script type="text/javascript">
    $(function(){
      $('.slide-out-div').tabSlideOut({
        tabHandle: '.handle',                     //class of the element that will become your tab
        pathToTabImage: '/images/feedback_tabv2.png', //path to the image for the tab //Optionally can be set using css
        imageHeight: '130px',                     //height of tab image           //Optionally can be set using css
        imageWidth: '36px',                       //width of tab image            //Optionally can be set using css
        tabLocation: 'left',                      //side of screen where tab lives, top, right, bottom, or left
        speed: 300,                               //speed of animation
        action: 'click',                          //options: 'click' or 'hover', action to trigger animation
        topPos: '200px',                          //position from the top/ use if tabLocation is left or right
        leftPos: '20px',                          //position from left/ use if tabLocation is bottom or top
        fixedPosition: true                      //options: true makes it stick(fixed position) on scroll
        });
      });
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body  >
  <header role="banner">
    <hgroup>
  <h1>Jumpstart Lab Curriculum</h1>
  
</hgroup>

  </header>

  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tutorials.jumpstartlab.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/">Curriculum Index</a></li>
  <li><div id="search">
  <form>
    <input type="text" id="st-search-input" class="st-search-input" />
  </form>
</div>
</li>
</ul>
  </nav>

  <div id="main">
    <div id="content">
      <div>
  <article role="article">
    
    
      <header>
        <h1 class="entry-title">
          RubyPress
        </h1>
        
      </header>
    
    <p>In this project you&#8217;ll use Ruby on Rails to build a content management system.</p>

<div class="note">
<p>Consider the requirements fluid until 11:59PM, Monday, April 30th.</p>
</div>

<h3>Learning Goals</h3>

<ul>
<li>Practices techniques for scalable application architecture including caching, pre-rendering, and database optimization.</li>
<li>Continue using TDD to drive all layers of Rails development</li>
<li>Continue to improve User Interface concepts and skills</li>
</ul>

<h3>Understandings</h3>

<p>Please consider the requirements below non-exhaustive guidelines for building a content management system. If you know something should be done but it isn&#8217;t listed below, do it.</p>

<h3>Restrictions &amp; Outside Code</h3>

<p>Project implementation may <em>not</em> use:</p>

<ul>
<li>RadiantCMS, RefineryCMS, or any other pre-fab CMS system</li>
<li>Jekyll or derivitives</li>
</ul>

<p>You <em>may</em> choose to use a templating language like <code>radius</code> or <code>liquid</code> if you choose.</p>

<h3>Base Expectations</h3>

<p>You are to build a content management system which can be used by administrators to create content and public users to consume content.</p>

<h4>Public Visitor</h4>

<p>As a public visitor I can:</p>

<ul>
<li>View content on the site</li>
<li>Access the login page</li>
</ul>

<h4>Authenticated Author</h4>

<p>As an authenticated author, I can:</p>

<ul>
<li>Manipulate Content (assuming I&#8217;m authorized)

<ul>
<li>Create/Edit/Delete pages</li>
<li>Create/Edit/Delete snippets</li>
<li>Create/Edit/Delete redirects</li>
</ul></li>
<li>My Account

<ul>
<li>Login</li>
<li>Request a password reset and receive a login link via email</li>
<li>Change my password</li>
<li>View my login history (timestamps, IP address)</li>
</ul></li>
</ul>

<h4>Authenticated Administrator</h4>

<p>As an authenticated Administrator, I can:</p>

<ul>
<li>Do everything an Author can do</li>
<li>Accounts

<ul>
<li>Create new accounts</li>
<li>Change the password of a specified account</li>
<li>Generate a random-ish password which is emailed to the account owner</li>
<li>Deactivate an account</li>
</ul></li>
<li>Permissions

<ul>
<li>Create permissions groups (ex: &quot;Blog Authors&quot;)</li>
<li>Assign and remove accounts from permissions groups</li>
<li>Connect permissions groups with pages (see later section)</li>
</ul></li>
</ul>

<h3>Permissions / Authorization</h3>

<p>This project needs to use a role-based access control model.</p>

<p>Imagine we have an <code>about-us</code> page on the site. It is connected to the roles <code>trusted-authors</code> and <code>corporate</code>.</p>

<p>If a user is a member of the <code>corporate</code> group, they can edit or delete the page and add child pages.</p>

<p>If a user is a member of the <code>trusted-authors</code> group, they can do the same.</p>

<p>If a user is a member of the <code>admin</code> group, they can do the same because this group has global permissions.</p>

<p>If a user is not a member of any of those groups, they can see that the page exists in the hierarchy but cannot modify it.</p>

<p>Lastly, the permissions &quot;trickle down.&quot; Say the the <code>about-us</code> page is nested under the <code>history</code> page. Any group which has permissions to work with <code>history</code> would also have permission to work with <code>about-us</code>.</p>

<h3>Creating Content</h3>

<p>There are several different types of content you need to handle:</p>

<h4>Pages</h4>

<p>Pages are structured in a hierarchy. For example:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Root
</span><span class='line'>  - About Us
</span><span class='line'>  - Contact
</span><span class='line'>  - Blog
</span><span class='line'>    - 2012
</span><span class='line'>      - Woohoo blog post
</span><span class='line'>      - This year is going to be awesome
</span><span class='line'>    - 2011
</span><span class='line'>      - End of the year wrapup</span></code></pre></td></tr></table></div></figure>

<p>Each page has:</p>

<ul>
<li>a parent (except the special Root page)</li>
<li>a name</li>
<li>a body</li>
<li><code>created_at</code> and <code>updated_at</code> timestamps</li>
<li>a <code>published_at</code> timestamp</li>
<li>a layout</li>
<li>attached authorization roles</li>
</ul>

<h5>Body Text Markup</h5>

<p>The body should offer a select box of processor options including:</p>

<ul>
<li>HTML (plain)</li>
<li>Markdown</li>
<li>Textile</li>
</ul>

<h5>Published At</h5>

<p>If the <code>published_at</code> is now or in the past, the page should show up on the public site. If it&#8217;s <code>nil</code> or in the future, the page should not be accessible.</p>

<h4>Layouts</h4>

<p>Layouts are used to wrap content, similar to layouts in a Rails application.</p>

<p>They can contain HTML content, can utilize snippets, and should have a marker (maybe <code>yield</code>) where the page content will be output.</p>

<h4>Snippets</h4>

<p>Snippets are template fragments which get rendered inside other pages. They can include content and reference other snippets.</p>

<h3>Data Validity</h3>

<p>Any attempt to create/modify a record with invalid attributes should return the user to the input form with a validation error indicating the problem along with suggestions how to fix it.</p>

<h4>Page</h4>

<ul>
<li>must have a name unique to that level of the page hierarchy</li>
<li>must be attached to a layout</li>
</ul>

<h4>Snippet</h4>

<ul>
<li>must have a name unique to that collection</li>
</ul>

<h4>Layout</h4>

<ul>
<li>must have a unique name</li>
</ul>

<h4>Redirects</h4>

<ul>
<li>must have an order of precidence</li>
<li>must have a destination</li>
</ul>

<h3>Example Data</h3>

<h3>Response Times</h3>

<p>Response time and caching are critically imporant. Your CMS should make significant use of:</p>

<ul>
<li>data caching</li>
<li>fragment caching</li>
<li>page caching</li>
<li>query consolidation</li>
<li>database optimizations (query count, using indicies, join)</li>
</ul>

<h3>Extensions</h3>

<h4>Redirects</h4>

<p>A redirect intercepts an incoming request and redirects it to a page on the site or an external URL.</p>

<p>Imagine that we&#8217;ve changed the structure of our blog. We want to capture requests coming in to the old address pattern and send them to the new URLs. Here is how we could create a redirect:</p>

<h5>Matcher</h5>

<p>The matcher could use a format similar to Rails like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/posts/:id</span></code></pre></td></tr></table></div></figure>

<p>Then any requests for <code>/posts/5</code> of <code>/posts/26</code> would match this redirect and put the <code>5</code> or <code>26</code> into an <code>id</code> variable.</p>

<h5>Target</h5>

<p>Then the target can reference the same variables:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/blog/articles/:id</span></code></pre></td></tr></table></div></figure>

<p>So <code>/posts/5</code> would redirect them to <code>/blog/articles/5</code>.</p>

<h4>Assets</h4>

<p>A page can have one or more attached assets.</p>

<p>Those assets can then be referenced from inside the page. They also have a unique URL which can be referenced from other pages.</p>

<p>When images are uploaded the system can create resized versions of configurable dimensions in the background.</p>

<h4>Layouts</h4>

<p>Improve the layout functionality so that:</p>

<ol>
<li>Layouts can be nested in other layouts</li>
<li>Layouts can be chosed based on media type sniffing. So you might create a <code>blog</code> layout that gets used for normal requests, but <code>blog_mobile</code> that gets used for mobile requests.</li>
<li>Layouts trickle down from the parent. So there is some default setting like <code>&quot;From Parent&quot;</code> which gets the layout of the parent or the author can choose another option.</li>
<li>Parents can set the &quot;Default Child Layout.&quot; Imagine on the root page I&#8217;m using the blog index I&#8217;m using a layout named <code>blog_index</code>, I could choose that each child automatically defaults to the <code>blog_article</code>.</li>
</ol>

<h4>Extension 4</h4>

<h3>Evaluation Criteria</h3>

<p>This project will be peer assessed using automated tests and the rubric below. Automated tests will be available by 8AM, Tuesday, April 10th.</p>

<ol>
<li>Correctness

<ul>
<li>3: All provided stories pass without an error or crash</li>
<li>2: One story failed</li>
<li>1: Two or three stories failed</li>
<li>0: More than three stories failed</li>
</ul></li>
<li>Testing

<ul>
<li>3: Testing suite covers &gt;95% of application code</li>
<li>2: Testing suite covers 85-94% of application code</li>
<li>1: Testing suite covers 70-84% of application code</li>
<li>0: Testing suite covers &lt;70% of application code</li>
</ul></li>
<li>Code Style

<ul>
<li>3: Source code generates no complaints from Cane or Reek.</li>
<li>2: Source code generates warnings about whitespace/comments, but no violations of line-length or method statement count</li>
<li>1: Source code generates six or fewer warnings about line-length or method statement count</li>
<li>0: Source code generates more than six warnings about line-length or method statement count</li>
</ul></li>
<li>Live Hungry

<ul>
<li>4: Program fulfills all Base Expectations and four Extensions</li>
<li>3: Program fulfills all Base Expectations and two Extensions</li>
<li>2: Program fulfills all Base Expectations</li>
<li>1: Program is missing 1-3 Base Expectations</li>
<li>0: Program fulfills many Base Expectations, but more than three features are missing.</li>
</ul></li>
<li>User Interface &amp; Design

<ul>
<li>3: WOW! This site is beautiful, functional, and clear.</li>
<li>2: Very good design and UI that shows work far beyond dropping in a library or Bootstrap.</li>
<li>1: Some basic design work, but doesn&#8217;t show much effort beyond &quot;ready to go&quot; components/frameworks/etc</li>
<li>0: The lack of design makes the site difficult / confusing to use</li>
</ul></li>
<li>Surprise &amp; Delight

<ul>
<li>2: A great idea that&#8217;s well executed and enhances the shopping experience.</li>
<li>1: An extra feature that makes things a little nicer, but doesn&#8217;t blow your mind.</li>
<li>0: No surprise. Sad face :(</li>
</ul></li>
</ol>

<h3>Evaluation Protocol</h3>

    
    
      <footer>
        
        
          <div class="sharing">
  
  
</div>

        
      </footer>
    
  </article>


</div>



    </div>

    <div class="footer">
  <p>
    All materials licensed <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0</a>&nbsp;
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" />
  </p>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-42709122-1', 'jumpstartlab.com');
ga('send', 'pageview');
</script>
  </div>

  


  <div class="slide-out-div">
  <a class="handle" href="#">Feedback</a>
  <h3>Have Feedback?</h3>
  <p>Did you find an error? Something confusing? We'd love your help:</p>
  <ul>
    <li><a href="#" id="edit_source">Edit the source code of this page directly on GitHub</a></li>
    <li><a href="https://github.com/JumpstartLab/curriculum/issues">Create a new issue on the project's GitHub page</a></li>
  </ul>
  <p>Thanks!</p>
</div>

<script>
  $(function(){
    var pathname = window.location.pathname.replace( ".html", ".markdown" );
    var github_url = "https://github.com/JumpstartLab/curriculum/blob/master/source" + pathname;
    $("a#edit_source").attr('href', github_url);
  });
</script>

</body>
</html>
